<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">

<dom-module id="omni-bar">
    <style is="custom-style">
        :host {
            display: block;
        }
    </style>

        <template>
        <paper-header-panel main mode="waterfall-tall" class="blue" on-content-scroll="scrollHandler">
            <paper-toolbar class="main blue">
                <paper-icon-button id="navicon" icon="menu" paper-drawer-toggle></paper-icon-button>
                <div title class="large bottom">CatchPenny</div>
                <div class="flex bottom"></div>
                <div class="flex-10 bottom">
                    <md-autocomplete md-selected-item="selectedItem" md-search-text="searchText"
                                     md-items="item in getMatches(searchText)" md-item-text="item.display">
                        <md-item-template>
                            <span md-highlight-text="searchText">@{{item.display}}</span>
                        </md-item-template>
                        <md-not-found>
                            No matches found.
                        </md-not-found>
                    </md-autocomplete>
                </div>
                <div class="flex bottom"></div>
                <div class="bottom" layout horizontal>
                    <paper-icon-button icon="communication:message"></paper-icon-button>
                    <paper-icon-button icon="social:notifications"></paper-icon-button>
                    <!--<paper-icon-button icon="icons:build"></paper-icon-button>-->
                    <content id="icon" select="paper-icon-button"></content>
                </div>
            </paper-toolbar>
            <content id="mainContent" select="*"></content>
        </paper-header-panel>

    </template>

    <script>
        Polymer({
            is: 'omni-bar',
            scrollHandler: function(event) {
                var navIcon = document.getElementById('navicon');
                var scroller = event.detail.target;
                if(scroller.scrollTop > 40)
                {
                    navIcon.style.visibility = "hidden";
                    console.log("True");
                }
                else
                {
                    navIcon.style.visibility = "visible";
                }
            }
        });
    </script>
</dom-module>